<input type="text" id="name" />

<input type="text" id="msg" />

<ul id="message">
</ul>
<input type="button" value="Send" onclick="SendData()" />
@section Scripts{
	<script src="~/lib/microsoft-signalr/signalr.min.js"></script>
	<script>
		//1-Declar Hub
		var connection = new signalR.HubConnectionBuilder().withUrl("/ChatHub").build();

		//2-start connection with hub server ==>Clients
		connection.start().then(function () {
			console.log("Connection Success");
		});//online on this hub only
		//3-send info to hub server
		function SendData() {
			var name = document.getElementById("name").value;
			var msg = document.getElementById("msg").value;
			console.log("Your Name:" + name);//need send data to hub server
			//RPC from server
			connection.invoke("NewMessage", name, msg);

		}
		//4-recive info come from hub server
		connection.on("NotifyNewMessage", function (n, m) {
			document.getElementById("message").innerHTML += "<li>" + n + ":" + m + "</li>";
		});

	</script>
}
